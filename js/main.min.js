(()=>{(function(){let t={};function d(){t.editButton=document.querySelector("#edit-button"),t.frontendEditor=document.querySelector(".frontend-editor"),t.updateButton=document.querySelector(".frontend-editor-update"),t.entryContent=document.querySelector(".entry-content")}function n(){t.entryContent.setAttribute("hidden","true"),t.editButton.setAttribute("hidden","true"),t.frontendEditor.removeAttribute("hidden"),t.updateButton.removeAttribute("hidden")}function i(){t.frontendEditor.setAttribute("hidden","true"),t.updateButton.setAttribute("hidden","true"),t.editButton.removeAttribute("hidden"),t.entryContent.removeAttribute("hidden")}function r(e){let f=e.target.getAttribute("name")==="s";e.key==="e"&&!f&&n()}function u(){let e={content:tinymce.activeEditor.getContent()},o={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};fetch(`${t.frontendEditor.dataset.wpurl}wp/v2/pages/${t.frontendEditor.dataset.postid}`,o).then(()=>{i()})}function c(){n()}function s(){document.addEventListener("keydown",r),t.editButton.addEventListener("click",c),t.updateButton.addEventListener("click",u)}function a(){d(),s()}a()})();})();
